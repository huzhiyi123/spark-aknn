1.log
nohup bash /aknn/runall.sh 1.log &>cur1.log&


if __name__ == "__main__":
    initparams()
    print("start bruteForce\n")
    efConstruction=50
    ef = efConstruction
    #testdoublekmeansHnsw()
    bruteForce()
    print("end bruteForce\n")
    
    print("start efConstruction=250 \n")
    initparams()
    efConstruction=250
    ef = efConstruction
    print("start efConstruction=300 \n")
    initparams()
    efConstruction=300
    ef = efConstruction

    print("gist efConstruction \n")
    initparams()
    usesift = false
    efConstructionlist = [50,80,100,120,130,160,200,250,300]
    for i in efConstructionlist:
        efConstruction=300
        ef = efConstruction
        print("gist efConstruction cmp",efConstruction)
        testdoublekmeansHnsw()

# 6.log
nohup bash runall.sh 6.log &>>cur7.log&

if __name__ == "__main__":
    print("gist efConstruction \n")
    initparams()
    usesift = False
    testdoublekmeansHnswV2()
    efConstructionlist = [30,80,120,180,200,250]
    initparams()
    print("for i in efConstructionlist:")
    for i in efConstructionlist:
        initparams()
        efConstruction = i
        ef = efConstruction
        usesift = False
        print("efConstruction cmp gist",efConstruction)
        testdoublekmeansHnswV2()
    print("end efConstructionlist\n",efConstructionlist)


    topkPartitionNumlist = 8
    for i in range(1,9):
        initparams()
        topkPartitionNum=i
        efConstruction = 150
        ef = efConstruction
        usesift = False
        print("topkPartitionNumlist cmp",topkPartitionNum)
        testdoublekmeansHnsw()
        print("end topkPartitionNumlist cmp\n",topkPartitionNum)
    
    initparams()
    usesift = False
    bruteForce()