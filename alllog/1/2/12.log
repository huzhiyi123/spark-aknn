/aknn/test/maintest.py
maxelement,k,partitionnum,topkPartitionNum,ef,m,distanceFunction,kmeanstrainrate,efConstruction,usesift:
 100000000 10 8 3 88 50 cosine 0.05 35 True
efConstruction cmp 10
(result.count()) 10000
searchtimeUsed:  18429.904460906982
constructtimeUsed:  142196.4466571808
l 10000 k 10
recall = cnt/float(l*k) 89283   l 10000 k 10
recall: 0.89283
efConstruction cmp 11
(result.count()) 10000
searchtimeUsed:  18963.095903396606
constructtimeUsed:  141278.17106246948
l 10000 k 10
recall = cnt/float(l*k) 89112   l 10000 k 10
recall: 0.89112
efConstruction cmp 12
(result.count()) 10000
searchtimeUsed:  19116.48154258728
constructtimeUsed:  140214.88046646118
l 10000 k 10
recall = cnt/float(l*k) 90200   l 10000 k 10
recall: 0.902
efConstruction cmp 15
(result.count()) 10000
searchtimeUsed:  20182.870864868164
constructtimeUsed:  140620.4056739807
l 10000 k 10
recall = cnt/float(l*k) 92358   l 10000 k 10
recall: 0.92358
efConstruction cmp 30
(result.count()) 10000
searchtimeUsed:  21977.05125808716
constructtimeUsed:  140299.99899864197
l 10000 k 10
recall = cnt/float(l*k) 96616   l 10000 k 10
recall: 0.96616
efConstruction cmp 80
(result.count()) 10000
searchtimeUsed:  38874.08757209778
constructtimeUsed:  219201.7240524292
l 10000 k 10
recall = cnt/float(l*k) 99024   l 10000 k 10
recall: 0.99024
maxelement = 100000000
k=10
partitionnum=8
topkPartitionNum=3

/aknn/test/maintest.py
maxelement,k,partitionnum,topkPartitionNum,ef,m,distanceFunction,kmeanstrainrate,efConstruction,usesift:
 100000000 10 8 3 88 50 cosine 0.05 35 True
efConstruction cmp 10
(result.count()) 10000
searchtimeUsed:  17695.40500640869
constructtimeUsed:  58891.425132751465
l 10000 k 10
recall = cnt/float(l*k) 62456   l 10000 k 10
recall: 0.62456
efConstruction cmp 15
(result.count()) 10000
searchtimeUsed:  17455.52921295166
constructtimeUsed:  59247.00927734375
l 10000 k 10
recall = cnt/float(l*k) 69199   l 10000 k 10
recall: 0.69199
efConstruction cmp 30
(result.count()) 10000
searchtimeUsed:  21461.42816543579
constructtimeUsed:  83575.70552825928
l 10000 k 10
recall = cnt/float(l*k) 89506   l 10000 k 10
recall: 0.89506
maxelement = 100000000
k=10
partitionnum=8
topkPartitionNum=3





sc = 1
m = int(50)
distanceFunction='cosine'
kmeanstrainrate=0.05

efConstruction=35
ef = int(4*22)
usesift=True

kmeanspath="/aknn/kmeans/"

gistlist=["gistpartition.csv","gistcentroids2.csv","gistcentroids1.csv"]  
siftlist=["siftpartition.csv","siftcentroids1.csv","siftcentroids2.csv"]

"""
datapath="/my/siftsmall/"
traindatapath=datapath+"siftsmall_base.fvecs"
querydatapath=datapath+"siftsmall_query.fvecs"
querygroundtruthpath=datapath+"siftsmall_groundtruth.ivecs"
"""
datapath="/data/"
traindatapath=datapath+"sift_base.fvecs"
querydatapath=datapath+"sift_query.fvecs"
querygroundtruthpath=datapath+"sift_groundtruth.ivecs"


gistpath="/data/mnist.hdf5"
# ef=10, efConstruction=200


recall = cnt/float(l*k) 89283   l 10000 k 10
recall: 0.89283
recall = cnt/float(l*k) 89112   l 10000 k 10
recall: 0.89112
recall = cnt/float(l*k) 90200   l 10000 k 10
recall: 0.902
recall = cnt/float(l*k) 92358   l 10000 k 10
recall: 0.92358
recall = cnt/float(l*k) 96616   l 10000 k 10
recall: 0.96616
recall = cnt/float(l*k) 99024   l 10000 k 10
recall: 0.99024
